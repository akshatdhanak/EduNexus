{% extends "layout.html" %}

{% block title %}Faculties information{% endblock %}

{% block style %}
.faculty-hero{display:flex;align-items:center;justify-content:space-between;gap:16px;padding:20px;border-radius:12px;background:linear-gradient(90deg,#ffffff, #f7f9ff);box-shadow:0 6px 18px rgba(23,31,50,0.04);margin-bottom:20px}
.faculty-hero h1{font-size:22px;margin:0;color:#0f172a}
.faculty-hero .hero-actions{display:flex;gap:12px;align-items:center}
.faculty-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:18px;margin-top:14px}
.faculty-card{background:#fff;border-radius:12px;padding:16px;box-shadow:0 6px 20px rgba(17,24,39,0.04);display:flex;gap:12px;align-items:center}
.faculty-avatar{width:64px;height:64px;border-radius:12px;background:#eef2ff;display:flex;align-items:center;justify-content:center;font-size:20px;color:#223;flex-shrink:0}
.faculty-meta{flex:1}
.faculty-name{font-weight:700;color:#0f172a}
.faculty-sub{color:#6b7280;font-size:13px}
.faculty-actions{display:flex;gap:8px}
.filter-row{display:flex;gap:12px;align-items:center;margin-top:12px}
.search-input{padding:10px 12px;border-radius:8px;border:1px solid #e6e9f2;width:320px}
.dept-select{padding:10px 12px;border-radius:8px;border:1px solid #e6e9f2}
.empty-state-centered{padding:40px;text-align:center;background:#fff;border-radius:12px;box-shadow:0 6px 18px rgba(23,31,50,0.03)}
{% endblock %}

{% block container %}
<div class="container">
    <div class="faculty-hero">
        <div>
            <h1>Faculty Directory</h1>
            <div class="subtitle">Manage faculty profiles, departments and access</div>
        </div>
        <div class="hero-actions">
            <a href="{% url 'admin_app:admin_dashboard' %}" class="btn btn-outline-secondary">Back</a>
            <a href="{% url 'admin_app:faculty_add' %}" class="btn btn-primary">+ Add Faculty</a>
        </div>
    </div>

    <div class="filter-row">
        <input type="search" class="search-input" placeholder="Search by name, email or username" />
        <select class="dept-select">
            <option value="">All Departments</option>
            {% for d in departments %}
                <option value="{{ d.id }}">{{ d.name }}</option>
            {% endfor %}
        </select>
    </div>

    {% if faculties %}
        <div class="faculty-grid">
            {% for faculty in faculties %}
                <article class="faculty-card">
                    <div class="faculty-avatar">{{ faculty.user.first_name|default:faculty.user.username|slice:":1"|upper }}</div>
                    <div class="faculty-meta">
                        <div class="faculty-name">{{ faculty.user.get_full_name|default:faculty.user.username }}</div>
                        <div class="faculty-sub">{{ faculty.user.email }}</div>
                        <div class="faculty-sub">Department: {{ faculty.department|default:"â€”" }}</div>
                    </div>
                    <div class="faculty-actions">
                        <a href="{% url 'admin_app:faculty_edit' faculty.id %}" class="btn btn-outline-primary btn-sm">Edit</a>
                        <a href="{% url 'admin_app:faculty_delete' faculty.id %}" class="btn btn-outline-danger btn-sm" onclick="return confirm('Delete this faculty?');">Delete</a>
                    </div>
                </article>
            {% endfor %}
        </div>
    {% else %}
        <div class="empty-state-centered mt-4">
            <h4>No faculty found</h4>
            <p class="text-muted">Add faculty members using the Add Faculty button.</p>
        </div>
    {% endif %}

</div>
{% endblock %}