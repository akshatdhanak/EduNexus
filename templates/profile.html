{% extends "layout.html" %}

{% block title %}Profile{% endblock %}

{% block container %}
<div class="page-container">
    <div class="profile-card">
        <div class="profile-hero">
            <img src="{{ obj.image.url }}" alt="avatar" class="avatar" width="120" height="120">
            <h1 class="title">{{ obj.name }}</h1>
            <p class="subtitle">ID: {{ obj.user.username }}</p>
            {% if obj.user.role == "faculty" %}
                <p class="meta">Department: {{ obj.department }}</p>
            {% else %}
                <p class="meta">Degree: {{ obj.get_degree_display }}</p>
            {% endif %}
        </div>

        <div class="profile-details">
            <div class="detail-row">
                <span class="label">Email</span>
                <span class="value">{{ obj.user.email }}</span>
            </div>

            {% if obj.user.role == "faculty" %}
            <div class="detail-row">
                <span class="label">Salary</span>
                <span class="value">{{ obj.salary }} â‚¹</span>
            </div>
            <div class="detail-row">
                <span class="label">Department</span>
                <span class="value">{{ obj.department }}</span>
            </div>
            <div class="detail-row vertical">
                <span class="label">Subjects</span>
                <div class="value-list">
                    {% for sub in obj.subject.all %}
                        <span class="chip">{{ sub.name }}</span>
                    {% empty %}
                        <span class="muted">No subjects assigned</span>
                    {% endfor %}
                </div>
            </div>
            {% else %}
            <div class="detail-row">
                <span class="label">Phone</span>
                <span class="value">{{ obj.mobile_no }}</span>
            </div>
            <div class="detail-row">
                <span class="label">Graduation Date</span>
                <span class="value">{{ obj.graduation_date }}</span>
            </div>
            {% endif %}
        </div>

        <div class="actions">
            {% if obj.user.role == "faculty" %}
                <a href="{% url 'faculty_app:edit_profile' %}" class="btn-primary">Edit Profile</a>
                <a href="{% url 'faculty_app:faculty_dashboard' %}" class="btn-secondary">Back</a>
            {% else %}
                <a href="{% url 'student_app:edit_profile' %}" class="btn-primary">Edit Profile</a>
                <a href="{% url 'student_app:student_dashboard' %}" class="btn-secondary">Back</a>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}

{% block style %}
* { box-sizing: border-box; }
body { background-color: #2b2f33; color: #1a1a1a; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif; }
.page-container { max-width: 900px; margin: 0 auto; padding: 40px 20px; }
.profile-card { background: #fff; border: 1px solid #e0e0e0; border-radius: 2px; overflow: hidden; }
.profile-hero { display: flex; flex-direction: column; align-items: center; padding: 32px; border-bottom: 1px solid #f0f0f0; }
.avatar { border-radius: 50%; border: 1px solid #e0e0e0; }
.title { margin-top: 16px; font-size: 22px; font-weight: 600; letter-spacing: -0.02em; color: #1a1a1a; }
.subtitle { margin-top: 4px; font-size: 14px; color: #666; }
.meta { margin-top: 2px; font-size: 13px; color: #888; }
.profile-details { padding: 24px 32px; }
.detail-row { display: flex; justify-content: space-between; align-items: center; padding: 14px 0; border-bottom: 1px solid #f0f0f0; }
.detail-row:last-child { border-bottom: none; }
.detail-row.vertical { flex-direction: column; align-items: flex-start; }
.label { font-size: 13px; font-weight: 500; color: #1a1a1a; }
.value { font-size: 14px; color: #1a1a1a; }
.value-list { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 10px; }
.chip { background: #f5f5f5; border: 1px solid #e0e0e0; border-radius: 2px; padding: 6px 10px; font-size: 13px; color: #1a1a1a; }
.muted { color: #666; font-size: 13px; }
.actions { display: flex; gap: 12px; justify-content: flex-end; padding: 16px 32px 24px; border-top: 1px solid #f0f0f0; }
.btn-primary, .btn-secondary { padding: 10px 20px; font-size: 14px; font-weight: 500; border-radius: 2px; text-decoration: none; display: inline-block; }
.btn-primary { background: #1a1a1a; color: #fff; }
.btn-primary:hover { background: #000; }
.btn-secondary { background: transparent; color: #666; border: 1px solid #d0d0d0; }
.btn-secondary:hover { background: #f5f5f5; color: #1a1a1a; }
@media (max-width: 640px) { .profile-details { padding: 20px; } .actions { padding: 16px 20px 24px; } }
{% endblock %}